<div class="mx-5">
  <mat-expansion-panel #panel>
    <mat-expansion-panel-header>
      <mat-panel-title>
        New System
      </mat-panel-title>
    </mat-expansion-panel-header>
    <ig-new-system (done)="panel.close(); getSystems()"></ig-new-system>
  </mat-expansion-panel>
  <div>
    <table *ngIf="availableSystems && availableSystems.length > 0" mat-table
           [dataSource]="availableSystems" class="w-100 mt-5">
      <ng-container matColumnDef="name">
        <th mat-header-cell *matHeaderCellDef>Name</th>
        <td mat-cell *matCellDef="let system">{{system.name}}</td>
      </ng-container>
      <ng-container matColumnDef="systemId">
        <th mat-header-cell *matHeaderCellDef>Id</th>
        <td mat-cell *matCellDef="let system">{{system.systemId}}</td>
      </ng-container>

      <ng-container matColumnDef="actions">
        <th mat-header-cell *matHeaderCellDef>Actions</th>
        <td mat-cell *matCellDef="let system">
          <button mat-button color="accent" class="mx-1" (click)="analyze(system)"><i class="fas fa-microscope"></i>
          </button>
          <button mat-button color="accent" class="mx-1" (click)="export(system)"><i class="fas fa-file-export"></i>
          </button>
          <button mat-button color="warn" class="mx-1" (click)="delete(system)"><i class="fas fa-trash-alt"></i>
          </button>
        </td>
      </ng-container>

      <tr mat-header-row *matHeaderRowDef="systemTableColumns"></tr>
      <tr mat-row *matRowDef="let row; columns: systemTableColumns;"></tr>
    </table>
  </div>
</div>

